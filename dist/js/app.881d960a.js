(function(t){function i(i){for(var s,p,r=i[0],h=i[1],a=i[2],c=0,u=[];c<r.length;c++)p=r[c],Object.prototype.hasOwnProperty.call(o,p)&&o[p]&&u.push(o[p][0]),o[p]=0;for(s in h)Object.prototype.hasOwnProperty.call(h,s)&&(t[s]=h[s]);l&&l(i);while(u.length)u.shift()();return n.push.apply(n,a||[]),e()}function e(){for(var t,i=0;i<n.length;i++){for(var e=n[i],s=!0,p=1;p<e.length;p++){var h=e[p];0!==o[h]&&(s=!1)}s&&(n.splice(i--,1),t=r(r.s=e[0]))}return t}var s={},o={app:0},n=[];function p(t){return r.p+"js/"+({about:"about"}[t]||t)+"."+{about:"18fc1036"}[t]+".js"}function r(i){if(s[i])return s[i].exports;var e=s[i]={i:i,l:!1,exports:{}};return t[i].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.e=function(t){var i=[],e=o[t];if(0!==e)if(e)i.push(e[2]);else{var s=new Promise((function(i,s){e=o[t]=[i,s]}));i.push(e[2]=s);var n,h=document.createElement("script");h.charset="utf-8",h.timeout=120,r.nc&&h.setAttribute("nonce",r.nc),h.src=p(t);var a=new Error;n=function(i){h.onerror=h.onload=null,clearTimeout(c);var e=o[t];if(0!==e){if(e){var s=i&&("load"===i.type?"missing":i.type),n=i&&i.target&&i.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+n+")",a.name="ChunkLoadError",a.type=s,a.request=n,e[1](a)}o[t]=void 0}};var c=setTimeout((function(){n({type:"timeout",target:h})}),12e4);h.onerror=h.onload=n,document.head.appendChild(h)}return Promise.all(i)},r.m=t,r.c=s,r.d=function(t,i,e){r.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,i){if(1&i&&(t=r(t)),8&i)return t;if(4&i&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var s in t)r.d(e,s,function(i){return t[i]}.bind(null,s));return e},r.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(i,"a",i),i},r.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},r.p="/poliseo/",r.oe=function(t){throw console.error(t),t};var h=window["webpackJsonp"]=window["webpackJsonp"]||[],a=h.push.bind(h);h.push=i,h=h.slice();for(var c=0;c<h.length;c++)i(h[c]);var l=a;n.push([0,"chunk-vendors"]),e()})({0:function(t,i,e){t.exports=e("56d7")},"10c7":function(t,i,e){"use strict";e("78b8")},"56d7":function(t,i,e){"use strict";e.r(i);e("e260"),e("e6cf"),e("cca6"),e("a79d");var s=e("7a23"),o=Object(s["u"])({active:!1,change:function(t){this.active=t}}),n=o,p={id:"nav",class:"container bg-white mx-auto h-screen my-auto py-5 rounded-sm"},r=Object(s["g"])("Home"),h=Object(s["g"])(" | "),a=Object(s["g"])("About"),c={expose:[],setup:function(t){return function(t,i){var e=Object(s["x"])("router-link"),o=Object(s["x"])("router-view");return Object(s["s"])(),Object(s["e"])("div",p,[Object(s["h"])(e,{to:"/"},{default:Object(s["D"])((function(){return[r]})),_:1}),h,Object(s["E"])(Object(s["h"])(e,{to:"/about"},{default:Object(s["D"])((function(){return[a]})),_:1},512),[[s["B"],!Object(s["A"])(n).active]]),Object(s["h"])(o)])}}},l=(e("10c7"),c),u=e("9483");Object(u["a"])("".concat("/poliseo/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});e("d3b7"),e("3ca3"),e("ddb0");var d=e("6c02"),y={class:"home mt-1"};function x(t,i,e,o,n,p){var r=Object(s["x"])("HelloWorld"),h=Object(s["x"])("Instructions"),a=Object(s["x"])("Game");return Object(s["s"])(),Object(s["e"])("div",y,[Object(s["h"])(r),Object(s["h"])(h),Object(s["h"])(a,{height:o.heightScreen},null,8,["height"])])}var f={class:""},b=Object(s["h"])("h2",{class:"text-2xl font-bold"},"Bienvenidos a la Beta 2.0, hecho en Vue 3",-1),m=Object(s["h"])("div",{class:"mt-1 px-12 text-justify font-medium"},[Object(s["g"])(" Lee las instrucciones mediante el siguiente botón y si ya las sabes, pues a ¡Jugar!"),Object(s["h"])("br"),Object(s["g"])(" Te invito a que des tu opinión o sugerencia para seguir mejorando este mini proyecto, en la sección "),Object(s["h"])("span",null,"About"),Object(s["g"])(". ")],-1);function v(t,i,e,o,n,p){return Object(s["s"])(),Object(s["e"])("div",f,[b,m])}var g={name:"HelloWorld",props:{msg:String}};g.render=v;var j=g,O=(e("a4d3"),e("e01a"),{key:0,id:"keysInfo",class:"text-left modal absolute inset-0 flex flex-col justify-center items-center bg-black bg-opacity-50"}),w={class:"flex flex-col justify-center items-center bg-blue-50 rounded-md md:p-4 sm:p-2\r\n                    w-3/4 lg:w-1/2 h-1/2 lg:h-3/5 md:h-2/3 sm:h-3/5\r\n                    text-xs md:text-base sm:text-sm"},k=Object(s["h"])("h3",{class:"font-bold"},"Controles",-1),L=Object(s["h"])("h4",{class:"ml-2 font-semibold"},"Teclas",-1),S={class:"ml-2"};function D(t,i,e,o,n,p){return Object(s["s"])(),Object(s["e"])("div",null,[Object(s["h"])("button",{onClick:i[1]||(i[1]=function(t){return o.show=!0}),class:o.claseBtn},"Controles",2),(Object(s["s"])(),Object(s["e"])(s["b"],{to:"body"},[o.show?(Object(s["s"])(),Object(s["e"])("div",O,[Object(s["h"])("div",w,[k,L,Object(s["h"])("ul",S,[(Object(s["s"])(!0),Object(s["e"])(s["a"],null,Object(s["w"])(o.controles,(function(t,i){return Object(s["s"])(),Object(s["e"])("li",{class:"px-1 py-2",key:i},[Object(s["h"])("span",{class:o.claseSpanKey},Object(s["z"])(t.key),3),Object(s["g"])(" - Para "+Object(s["z"])(t.description),1)])})),128))]),Object(s["h"])("button",{onClick:i[2]||(i[2]=function(t){return o.show=!1}),class:o.claseBtn},"Cerrar",2)])])):Object(s["f"])("",!0)]))])}var F={setup:function(){var t=Object(s["v"])(!1),i=Object(s["v"])("p-1 bg-white text-black border-black rounded-md border-2"),e=Object(s["v"])("rounded-md bg-red-500 hover:bg-red-700 py-1 px-1.5 m-1 text-white"),o=Object(s["v"])([{key:"W",description:" moverte hacia arriba"},{key:"S",description:" moverte hacia abajo"},{key:"A",description:" moverte hacia la izquierda"},{key:"D",description:" moverte hacia la derecha"},{key:"Enter",description:" iniciar el juego y el inicio de cada nivel"},{key:"Space (Barra espaciadora)",description:" hacer un disparo por el jugador"}]);return{claseSpanKey:i,claseBtn:e,controles:o,show:t}}};F.render=D;var C=F,I={class:"game mt-4 grid grid-cols-4"},R={class:"px-5"},M={class:"bg-gradient-to-b from-blue-900 to-blue-500 shadow-md rounded-b-lg py-2 text-white"},E={class:"text-center font-bold"},U=Object(s["h"])("hr",{class:"p-1"},null,-1),A={class:"px-2 text-justify text-sm"},B={id:"area",class:"col-span-3 flex justify-center"};function T(t,i,e,o,n,p){return Object(s["s"])(),Object(s["e"])("div",I,[Object(s["h"])("div",R,[Object(s["h"])("div",M,[Object(s["h"])("h3",E,"Nivel: "+Object(s["z"])(t.nivelActual),1),U,Object(s["h"])("h5",A,Object(s["z"])(t.msgNivel),1)])]),Object(s["h"])("div",B,[Object(s["h"])("canvas",{id:"canvas",height:o.heightC},"Canvas",8,["height"])])])}var P,H,_,W,N,q,z,G,J,K,V,Q,X,Y,Z,$=e("5530"),tt=(e("a9e3"),e("fb6a"),e("a434"),e("159b"),e("caf7")),it=e.n(tt),et=e("9245"),st=e.n(et),ot=e("987f"),nt=e.n(ot),pt=e("c407"),rt=e.n(pt),ht=40,at=[1,2,4],ct=[2,4,5],lt=0,ut=5,dt=parseInt(ut/2)+1,yt=100,xt=new window.keypress.Listener(void 0),ft=!1,bt=!1,mt=!1,vt=!1,gt=!1,jt=0,Ot=1,wt=3,kt=Object(s["v"])(1),Lt=Object(s["v"])(""),St=Object(s["v"])(0),Dt=0;_=new Image,_.src=it.a,W=new Image,W.src=st.a,q=new Image,q.src=nt.a,N=new Image,N.src=rt.a;var Ft=[{imgObj:W,color:"#19A6C7"},{imgObj:q,color:"#0BA55F"},{imgObj:N,color:"#FFEB21"}];function Ct(){var t=parseInt(Dt/ut);if(t%2==0&&t%4==0);else while(t%2!=0||t%4!=0||t*ut>Dt)t--;lt=t,Y=ut*lt,V=parseInt(lt/2),Q=parseInt(.4*lt),X=parseInt(.1*lt)}function It(){for(var t=[],i=0;i<ut;i++){for(var e=[],s=0;s<ut;s++)e[s]=0==i||i%2==0?0:s%2!=0?1:0;t[i]=e}return t}function Rt(){kt.value=1,ut=5,Lt.value="",dt=parseInt(ut/2)+1,jt=0}function Mt(t){ft=!0,bt=t,t?(jt++,jt<wt&&(kt.value++,ut+=2)):Rt(),dt=parseInt(ut/2)+1,Y=ut*lt,Et=It()}var Et=It(),Ut=function(){this.objList=[],this.addEnemie=function(t){return this.objList.push({itself:t,p1:[t.x,t.y],p2:[t.x,t.y+lt],p3:[t.x+lt,t.y],p4:[t.x+lt,t.y+lt]}),this.objList.length},this.updatePositions=function(t,i,e){var s=this.objList[t-1];s.p1=[i,e],s.p2=[i,e+lt],s.p3=[i+lt,e],s.p4=[i+lt,e+lt],this.objList[t-1]=s},this.friendlyColision=function(t,i){var e=this.objList.slice(),s=e[t-1],o=!1;return e.splice(t-1,1),e.forEach((function(t){if(!t.itself.isDead)switch(i){case"U":(s.p1[0]>=t.p2[0]&&s.p1[1]<=t.p2[1]&&s.p1[0]<=t.p4[0]&&s.p1[1]<=t.p4[1]&&s.p1[0]>=t.p1[0]&&s.p1[1]>=t.p1[1]&&s.p1[0]<=t.p3[0]&&s.p1[1]>=t.p3[1]||s.p3[0]>=t.p2[0]&&s.p1[1]<=t.p2[1]&&s.p3[0]<=t.p4[0]&&s.p1[1]<=t.p4[1]&&s.p3[0]>=t.p1[0]&&s.p1[1]>=t.p1[1]&&s.p3[0]<=t.p3[0]&&s.p1[1]>=t.p3[1])&&(o=!0);break;case"R":(s.p3[0]>=t.p1[0]&&s.p3[1]>=t.p1[1]&&s.p3[0]>=t.p2[0]&&s.p3[1]<=t.p2[1]&&s.p3[0]<=t.p3[0]&&s.p3[1]>=t.p3[1]&&s.p3[0]<=t.p4[0]&&s.p3[1]<=t.p4[1]||s.p4[0]>=t.p1[0]&&s.p4[1]>=t.p1[1]&&s.p4[0]>=t.p2[0]&&s.p4[1]<=t.p2[1]&&s.p4[0]<=t.p3[0]&&s.p4[1]>=t.p3[1]&&s.p4[0]<=t.p4[0]&&s.p4[1]<=t.p4[1])&&(o=!0);break;case"D":(s.p2[0]>=t.p1[0]&&s.p2[1]>=t.p1[1]&&s.p2[0]<=t.p3[0]&&s.p2[1]>=t.p3[1]&&s.p2[0]>=t.p2[0]&&s.p2[1]<=t.p2[1]&&s.p2[0]<=t.p4[0]&&s.p2[1]<=t.p4[1]||s.p4[0]>=t.p1[0]&&s.p4[1]>=t.p1[1]&&s.p4[0]<=t.p3[0]&&s.p4[1]>=t.p3[1]&&s.p4[0]>=t.p2[0]&&s.p4[1]<=t.p2[1]&&s.p4[0]<=t.p4[0]&&s.p4[1]<=t.p4[1])&&(o=!0);break;case"L":(s.p1[0]<=t.p3[0]&&s.p1[1]>=t.p3[1]&&s.p1[0]<=t.p4[0]&&s.p1[1]<=t.p4[1]&&s.p1[0]>=t.p1[0]&&s.p1[1]>=t.p1[1]&&s.p1[0]>=t.p2[0]&&s.p1[1]<=t.p2[1]||s.p2[0]<=t.p3[0]&&s.p2[1]>=t.p3[1]&&s.p2[0]<=t.p4[0]&&s.p2[1]<=t.p4[1]&&s.p2[0]>=t.p1[0]&&s.p2[1]>=t.p1[1]&&s.p2[0]>=t.p2[0]&&s.p2[1]<=t.p2[1])&&(o=!0);break;default:break}})),o}},At=function(){this.objList=[],this.addShoot=function(t,i){var e,s,o;return"D"==t.orientation||"U"==t.orientation?(e=[t.x,t.y+V],s=[t.x+(lt-2*Q),t.y],o=[t.x+(lt-2*Q),t.y+V]):"L"!=t.orientation&&"R"!=t.orientation||(e=[t.x,t.y+(lt-2*Q)],s=[t.x+V,t.y],o=[t.x+V,t.y+(lt-2*Q)]),this.objList[i-1]={itself:t,direction:t.orientation,p1:[t.x,t.y],p2:e,p3:s,p4:o},i},this.updatePositions=function(t,i,e,s){var o=this.objList[t-1];o.direction=s,o.p1=[i,e],"D"==o.direction||"U"==o.direction?(o.p2=[i,e+V],o.p3=[i+(lt-2*Q),e],o.p4=[i+(lt-2*Q),e+V]):"R"!=o.direction&&"L"!=o.direction||(o.p2=[i,e+(lt-2*Q)],o.p3=[i+V,e],o.p4=[i+V,e+(lt-2*Q)]),this.objList[t-1]=o},this.resetOtherShoot=function(t){J.objList[t.itself.indexFather-1].itself.ownShoot=null,J.objList[t.itself.indexFather-1].itself.existingShoot=!1,K.objList[t.itself.indexFather-1].itself.crashed=!0},this.resetOwnShoot=function(t){J.objList[t.itself.indexFather-1].itself.ownShoot.crashed=!0,J.objList[t.itself.indexFather-1].itself.existingShoot=!1},this.friendlyShootColision=function(t,i){var e=this.objList.slice(),s=e[t-1],o=!1;return e.splice(t-1,1),e.forEach((function(t){if(!t.itself.crashed)switch(i){case"U":(s.p1[0]>=t.p2[0]&&s.p1[1]<=t.p2[1]&&s.p1[0]<=t.p4[0]&&s.p1[1]<=t.p4[1]&&s.p1[0]>=t.p1[0]&&s.p1[1]>=t.p1[1]&&s.p1[0]<=t.p3[0]&&s.p1[1]>=t.p3[1]||s.p3[0]>=t.p2[0]&&s.p3[1]<=t.p2[1]&&s.p3[0]<=t.p4[0]&&s.p3[1]<=t.p4[1]&&s.p3[0]>=t.p1[0]&&s.p3[1]>=t.p1[1]&&s.p3[0]<=t.p3[0]&&s.p3[1]>=t.p3[1])&&(o=!0,K.resetOtherShoot(t));break;case"R":(s.p3[0]>=t.p1[0]&&s.p3[1]>=t.p1[1]&&s.p3[0]>=t.p2[0]&&s.p3[1]<=t.p2[1]&&s.p3[0]<=t.p3[0]&&s.p3[1]>=t.p3[1]&&s.p3[0]<=t.p4[0]&&s.p3[1]<=t.p4[1]||s.p4[0]>=t.p1[0]&&s.p4[1]>=t.p1[1]&&s.p4[0]>=t.p2[0]&&s.p4[1]<=t.p2[1]&&s.p4[0]<=t.p3[0]&&s.p4[1]>=t.p3[1]&&s.p4[0]<=t.p4[0]&&s.p4[1]<=t.p4[1])&&(o=!0,K.resetOtherShoot(t));break;case"D":(s.p2[0]>=t.p1[0]&&s.p2[1]>=t.p1[1]&&s.p2[0]<=t.p3[0]&&s.p2[1]>=t.p3[1]&&s.p2[0]>=t.p2[0]&&s.p2[1]<=t.p2[1]&&s.p2[0]<=t.p4[0]&&s.p2[1]<=t.p4[1]||s.p4[0]>=t.p1[0]&&s.p4[1]>=t.p1[1]&&s.p4[0]<=t.p3[0]&&s.p4[1]>=t.p3[1]&&s.p4[0]>=t.p2[0]&&s.p4[1]<=t.p2[1]&&s.p4[0]<=t.p4[0]&&s.p4[1]<=t.p4[1])&&(o=!0,K.resetOtherShoot(t));break;case"L":(s.p1[0]<=t.p3[0]&&s.p1[1]>=t.p3[1]&&s.p1[0]<=t.p4[0]&&s.p1[1]<=t.p4[1]&&s.p1[0]>=t.p1[0]&&s.p1[1]>=t.p1[1]&&s.p1[0]>=t.p2[0]&&s.p1[1]<=t.p2[1]||s.p2[0]<=t.p3[0]&&s.p2[1]>=t.p3[1]&&s.p2[0]<=t.p4[0]&&s.p2[1]<=t.p4[1]&&s.p2[0]>=t.p1[0]&&s.p2[1]>=t.p1[1]&&s.p2[0]>=t.p2[0]&&s.p2[1]<=t.p2[1])&&(o=!0,K.resetOtherShoot(t));break;default:break}})),o},this.shootColision=function(t,i){var e=this.objList.slice(),s=t,o=!1,n=lt-2*Q;return e.forEach((function(t){if(!t.itself.crashed)switch(i){case"U":(s.x>=t.p2[0]&&s.y<=t.p2[1]&&s.x<=t.p4[0]&&s.y<=t.p4[1]&&s.x>=t.p1[0]&&s.y>=t.p1[1]&&s.x<=t.p3[0]&&s.y>=t.p3[1]||s.x+n>=t.p2[0]&&s.y<=t.p2[1]&&s.x+n<=t.p4[0]&&s.y<=t.p4[1]&&s.x+n>=t.p1[0]&&s.y>=t.p1[1]&&s.x+n<=t.p3[0]&&s.y>=t.p3[1])&&(o=!0,K.resetOtherShoot(t));break;case"R":(s.x+V>=t.p1[0]&&s.y>=t.p1[1]&&s.x+V>=t.p2[0]&&s.y<=t.p2[1]&&s.x+V<=t.p3[0]&&s.y>=t.p3[1]&&s.x+V<=t.p4[0]&&s.y<=t.p4[1]||s.x+V>=t.p1[0]&&s.y+n>=t.p1[1]&&s.x+V>=t.p2[0]&&s.y+n<=t.p2[1]&&s.x+V<=t.p3[0]&&s.y+n>=t.p3[1]&&s.x+V<=t.p4[0]&&s.y+n<=t.p4[1])&&(o=!0,K.resetOtherShoot(t));break;case"D":(s.x>=t.p1[0]&&s.y+V>=t.p1[1]&&s.x<=t.p3[0]&&s.y+V>=t.p3[1]&&s.x>=t.p2[0]&&s.y+V<=t.p2[1]&&s.x<=t.p4[0]&&s.y+V<=t.p4[1]||s.x+n>=t.p1[0]&&s.y+V>=t.p1[1]&&s.x+n<=t.p3[0]&&s.y+V>=t.p3[1]&&s.x+n>=t.p2[0]&&s.y+V<=t.p2[1]&&s.x+n<=t.p4[0]&&s.y+V<=t.p4[1])&&(o=!0,K.resetOtherShoot(t));break;case"L":(s.x<=t.p3[0]&&s.y>=t.p3[1]&&s.x<=t.p4[0]&&s.y<=t.p4[1]&&s.x>=t.p1[0]&&s.y>=t.p1[1]&&s.x>=t.p2[0]&&s.y<=t.p2[1]||s.x<=t.p3[0]&&s.y+n>=t.p3[1]&&s.x<=t.p4[0]&&s.y+n<=t.p4[1]&&s.x>=t.p1[0]&&s.y+n>=t.p1[1]&&s.x>=t.p2[0]&&s.y+n<=t.p2[1])&&(o=!0,K.resetOtherShoot(t));break;default:break}})),o},this.friendlyEnemieColision=function(t,i){var e=J.objList.slice(),s=this.objList[t-1],o=!1;return e.forEach((function(t){if(!t.itself.isDead)switch(i){case"U":(s.p1[0]>=t.p2[0]&&s.p1[1]<=t.p2[1]&&s.p1[0]<=t.p4[0]&&s.p1[1]<=t.p4[1]&&s.p1[0]>=t.p1[0]&&s.p1[1]>=t.p1[1]&&s.p1[0]<=t.p3[0]&&s.p1[1]>=t.p3[1]||s.p3[0]>=t.p2[0]&&s.p3[1]<=t.p2[1]&&s.p3[0]<=t.p4[0]&&s.p3[1]<=t.p4[1]&&s.p3[0]>=t.p1[0]&&s.p3[1]>=t.p1[1]&&s.p3[0]<=t.p3[0]&&s.p3[1]>=t.p3[1])&&(o=!0);break;case"R":(s.p3[0]>=t.p1[0]&&s.p3[1]>=t.p1[1]&&s.p3[0]>=t.p2[0]&&s.p3[1]<=t.p2[1]&&s.p3[0]<=t.p3[0]&&s.p3[1]>=t.p3[1]&&s.p3[0]<=t.p4[0]&&s.p3[1]<=t.p4[1]||s.p4[0]>=t.p1[0]&&s.p4[1]>=t.p1[1]&&s.p4[0]>=t.p2[0]&&s.p4[1]<=t.p2[1]&&s.p4[0]<=t.p3[0]&&s.p4[1]>=t.p3[1]&&s.p4[0]<=t.p4[0]&&s.p4[1]<=t.p4[1])&&(o=!0);break;case"D":(s.p2[0]>=t.p1[0]&&s.p2[1]>=t.p1[1]&&s.p2[0]<=t.p3[0]&&s.p2[1]>=t.p3[1]&&s.p2[0]>=t.p2[0]&&s.p2[1]<=t.p2[1]&&s.p2[0]<=t.p4[0]&&s.p2[1]<=t.p4[1]||s.p4[0]>=t.p1[0]&&s.p4[1]>=t.p1[1]&&s.p4[0]<=t.p3[0]&&s.p4[1]>=t.p3[1]&&s.p4[0]>=t.p2[0]&&s.p4[1]<=t.p2[1]&&s.p4[0]<=t.p4[0]&&s.p4[1]<=t.p4[1])&&(o=!0);break;case"L":(s.p1[0]<=t.p3[0]&&s.p1[1]>=t.p3[1]&&s.p1[0]<=t.p4[0]&&s.p1[1]<=t.p4[1]&&s.p1[0]>=t.p1[0]&&s.p1[1]>=t.p1[1]&&s.p1[0]>=t.p2[0]&&s.p1[1]<=t.p2[1]||s.p2[0]<=t.p3[0]&&s.p2[1]>=t.p3[1]&&s.p2[0]<=t.p4[0]&&s.p2[1]<=t.p4[1]&&s.p2[0]>=t.p1[0]&&s.p2[1]>=t.p1[1]&&s.p2[0]>=t.p2[0]&&s.p2[1]<=t.p2[1])&&(o=!0);break;default:break}})),o},this.enemieColision=function(t,i){var e=J.objList.slice(),s=t,o=!1,n=lt-2*Q;return e.forEach((function(t){if(!t.itself.isDead)switch(i){case"U":(s.x>=t.p2[0]&&s.y<=t.p2[1]&&s.x<=t.p4[0]&&s.y<=t.p4[1]&&s.x>=t.p1[0]&&s.y>=t.p1[1]&&s.x<=t.p3[0]&&s.y>=t.p3[1]||s.x+n>=t.p2[0]&&s.y<=t.p2[1]&&s.x+n<=t.p4[0]&&s.y<=t.p4[1]&&s.x+n>=t.p1[0]&&s.y>=t.p1[1]&&s.x+n<=t.p3[0]&&s.y>=t.p3[1])&&(o=!0,J.objList[t.itself.index-1].itself.isDead=!0,K.objList[t.itself.index-1].itself.crashed=!0);break;case"R":(s.x+V>=t.p1[0]&&s.y>=t.p1[1]&&s.x+V>=t.p2[0]&&s.y<=t.p2[1]&&s.x+V<=t.p3[0]&&s.y>=t.p3[1]&&s.x+V<=t.p4[0]&&s.y<=t.p4[1]||s.x+V>=t.p1[0]&&s.y+n>=t.p1[1]&&s.x+V>=t.p2[0]&&s.y+n<=t.p2[1]&&s.x+V<=t.p3[0]&&s.y+n>=t.p3[1]&&s.x+V<=t.p4[0]&&s.y+n<=t.p4[1])&&(o=!0,J.objList[t.itself.index-1].itself.isDead=!0,K.objList[t.itself.index-1].itself.crashed=!0);break;case"D":(s.x>=t.p1[0]&&s.y+V>=t.p1[1]&&s.x<=t.p3[0]&&s.y+V>=t.p3[1]&&s.x>=t.p2[0]&&s.y+V<=t.p2[1]&&s.x<=t.p4[0]&&s.y+V<=t.p4[1]||s.x+n>=t.p1[0]&&s.y+V>=t.p1[1]&&s.x+n<=t.p3[0]&&s.y+V>=t.p3[1]&&s.x+n>=t.p2[0]&&s.y+V<=t.p2[1]&&s.x+n<=t.p4[0]&&s.y+V<=t.p4[1])&&(o=!0,J.objList[t.itself.index-1].itself.isDead=!0,K.objList[t.itself.index-1].itself.crashed=!0);break;case"L":(s.x<=t.p3[0]&&s.y>=t.p3[1]&&s.x<=t.p4[0]&&s.y<=t.p4[1]&&s.x>=t.p1[0]&&s.y>=t.p1[1]&&s.x>=t.p2[0]&&s.y<=t.p2[1]||s.x<=t.p3[0]&&s.y+n>=t.p3[1]&&s.x<=t.p4[0]&&s.y+n<=t.p4[1]&&s.x>=t.p1[0]&&s.y+n>=t.p1[1]&&s.x>=t.p2[0]&&s.y+n<=t.p2[1])&&(o=!0,J.objList[t.itself.index-1].itself.isDead=!0,K.objList[t.itself.index-1].itself.crashed=!0);break;default:break}})),o}},Bt=function(){this.x,this.y,this.orientation,this.indexFather,this.velocity,this.crashed=!1,this.isMain=!1,this.color,this.createForEnemie=function(t,i,e,s,o,n){return this.x=t,this.y=i,this.orientation=o,this.indexFather=K.addShoot(this,e),this.velocity=s,this.color=n,this},this.createForMain=function(t,i,e,s){return this.x=t,this.y=i,this.orientation=s,this.velocity=e,this.isMain=!0,this.color="#FF0000",this},this.colision=function(t,i){var e,s,o=!1;return e=parseInt(t/lt),s=parseInt(i/lt),(e<0||e>=ut||s<0||s>=ut||1==Et[s][e])&&(o=!0),o},this.colisionObject=function(t){return this.isMain?K.shootColision(this,t)||K.enemieColision(this,t):K.friendlyShootColision(this.indexFather,t)||K.friendlyEnemieColision(this.indexFather,t)},this.up=function(){this.y>0&&!this.colision(this.x,this.y-1)&&!this.colision(this.x+(lt-2*Q)-1,this.y-1)&&!this.colisionObject("U")?this.y-=this.velocity:this.crashed=!0},this.down=function(){this.y+V<Y&&!this.colision(this.x,this.y+V+1)&&!this.colision(this.x+(lt-2*Q)-1,this.y+V+1)&&!this.colisionObject("D")?this.y+=this.velocity:this.crashed=!0},this.left=function(){this.x>0&&!this.colision(this.x-1,this.y)&&!this.colision(this.x-1,this.y+(lt-2*Q)-1)&&!this.colisionObject("L")?this.x-=this.velocity:this.crashed=!0},this.right=function(){this.x+V<Y&&!this.colision(this.x+V,this.y)&&!this.colision(this.x+V,this.y+(lt-2*Q)-1)&&!this.colisionObject("R")?this.x+=this.velocity:this.crashed=!0},this.mainTouched=function(){var t=K.objList[this.indexFather-1];switch(this.orientation){case"U":(t.p1[0]>=G.x&&t.p1[1]<=G.y+lt&&t.p1[0]<=G.x+lt&&t.p1[1]<=G.y+lt&&t.p1[0]>=G.x&&t.p1[1]>=G.y&&t.p1[0]<=G.x+lt&&t.p1[1]>=G.y||t.p3[0]>=G.x&&t.p1[1]<=G.y+lt&&t.p3[0]<=G.x+lt&&t.p1[1]<=G.y+lt&&t.p3[0]>=G.x&&t.p1[1]>=G.y&&t.p3[0]<=G.x+lt&&t.p1[1]>=G.y)&&(G.resetMain(),K.resetOwnShoot(t),Mt(!1));break;case"R":(t.p3[0]>=G.x&&t.p3[1]>=G.y&&t.p3[0]>=G.x&&t.p3[1]<=G.y+lt&&t.p3[0]<=G.x+lt&&t.p3[1]>=G.y&&t.p3[0]<=G.x+lt&&t.p3[1]<=G.y+lt||t.p4[0]>=G.x&&t.p4[1]>=G.y&&t.p4[0]>=G.x&&t.p4[1]<=G.y+lt&&t.p4[0]<=G.x+lt&&t.p4[1]>=G.y&&t.p4[0]<=G.x+lt&&t.p4[1]<=G.y+lt)&&(G.resetMain(),K.resetOwnShoot(t),Mt(!1));break;case"D":(t.p2[0]>=G.x&&t.p2[1]>=G.y&&t.p2[0]<=G.x+lt&&t.p2[1]>=G.y&&t.p2[0]>=G.x&&t.p2[1]<=G.y+lt&&t.p2[0]<=G.x+lt&&t.p2[1]<=G.y+lt||t.p4[0]>=G.x&&t.p4[1]>=G.y&&t.p4[0]<=G.x+lt&&t.p4[1]>=G.y&&t.p4[0]>=G.x&&t.p4[1]<=G.y+lt&&t.p4[0]<=G.x+lt&&t.p4[1]<=G.y+lt)&&(G.resetMain(),K.resetOwnShoot(t),Mt(!1));break;case"L":(t.p1[0]<=G.x+lt&&t.p1[1]>=G.y&&t.p1[0]<=G.x+lt&&t.p1[1]<=G.y+lt&&t.p1[0]>=G.x&&t.p1[1]>=G.y&&t.p1[0]>=G.x&&t.p1[1]<=G.y+lt||t.p2[0]<=G.x+lt&&t.p2[1]>=G.y&&t.p2[0]<=G.x+lt&&t.p2[1]<=G.y+lt&&t.p2[0]>=G.x&&t.p2[1]>=G.y&&t.p2[0]>=G.x&&t.p2[1]<=G.y+lt)&&(G.resetMain(),K.resetOwnShoot(t),Mt(!1));break;default:break}},this.move=function(){switch(this.orientation){case"U":this.up();break;case"D":this.down();break;case"L":this.left();break;case"R":this.right();break;default:break}this.isMain||(K.updatePositions(this.indexFather,this.x,this.y,this.orientation),this.mainTouched())},this.draw=function(){switch(H.fillStyle=this.color,this.orientation){case"U":H.fillRect(this.x,this.y,lt-2*Q,V);break;case"D":H.fillRect(this.x,this.y,lt-2*Q,V);break;case"L":H.fillRect(this.x,this.y,V,lt-2*Q);break;case"R":H.fillRect(this.x,this.y,V,lt-2*Q);break}}},Tt=function(t,i,e){this.x=t,this.y=i,this.idxImg=e,this.index=J.addEnemie(this),this.space=at[Ot],this.orientation="D",this.ownShoot=(new Bt).createForEnemie(this.x+Q,this.y+lt,this.index,ct[Ot],this.orientation,Ft[this.idxImg].color),this.existingShoot=!0,this.count=yt,this.isDead=!1,this.colision=function(t,i){var e,s,o=!1;return e=parseInt(t/lt),s=parseInt(i/lt),(e<0||e>=ut||s<0||s>=ut||1==Et[s][e])&&(o=!0),o},this.removeDataFromArray=function(t,i){var e=i.indexOf(t);i.splice(e,1)},this.up=function(){var t=["U","R","L"],i=!1,e=!1,s=!1;this.y>0&&!this.colision(this.x,this.y-1)&&!this.colision(this.x+lt-1,this.y-1)&&!J.friendlyColision(this.index,"U")?this.y-=this.space:i=!0,e=this.x+lt>=Y||this.colision(this.x+lt,this.y)||this.colision(this.x+lt,this.y+lt-1)||J.friendlyColision(this.index,"R"),s=this.x<=0||this.colision(this.x-1,this.y)||this.colision(this.x-1,this.y+lt-1)||J.friendlyColision(this.index,"L"),i&&this.removeDataFromArray("U",t),e&&this.removeDataFromArray("R",t),s&&this.removeDataFromArray("L",t),J.friendlyColision(this.index,"U")&&t.push("D"),t.length<=0&&t.push("D"),this.orientation=t[Math.floor(Math.random()*t.length)]},this.down=function(){var t=["D","R","L"],i=!1,e=!1,s=!1;this.y+lt<Y&&!this.colision(this.x,this.y+lt+1)&&!this.colision(this.x+lt-1,this.y+lt+1)&&!J.friendlyColision(this.index,"D")?this.y+=this.space:i=!0,e=this.x+lt>=Y||this.colision(this.x+lt,this.y)||this.colision(this.x+lt,this.y+lt-1)||J.friendlyColision(this.index,"R"),s=this.x<=0||this.colision(this.x-1,this.y)||this.colision(this.x-1,this.y+lt-1)||J.friendlyColision(this.index,"L"),i&&this.removeDataFromArray("D",t),e&&this.removeDataFromArray("R",t),s&&this.removeDataFromArray("L",t),J.friendlyColision(this.index,"D")&&t.push("U"),t.length<=0&&t.push("U"),this.orientation=t[Math.floor(Math.random()*t.length)]},this.left=function(){var t=["L","U","D"],i=!1,e=!1,s=!1;this.x>0&&!this.colision(this.x-1,this.y)&&!this.colision(this.x-1,this.y+lt-1)&&!J.friendlyColision(this.index,"L")?this.x-=this.space:i=!0,e=this.y<=0||this.colision(this.x,this.y-1)||this.colision(this.x+lt-1,this.y-1)||J.friendlyColision(this.index,"U"),s=this.y+lt>=Y||this.colision(this.x,this.y+lt+1)||this.colision(this.x+lt-1,this.y+lt+1)||J.friendlyColision(this.index,"D"),i&&this.removeDataFromArray("L",t),e&&this.removeDataFromArray("U",t),s&&this.removeDataFromArray("D",t),J.friendlyColision(this.index,"L")&&t.push("R"),t.length<=0&&t.push("R"),this.orientation=t[Math.floor(Math.random()*t.length)]},this.right=function(){var t=["R","U","D"],i=!1,e=!1,s=!1;this.x+lt<Y&&!this.colision(this.x+lt,this.y)&&!this.colision(this.x+lt,this.y+lt-1)&&!J.friendlyColision(this.index,"R")?this.x+=this.space:i=!0,e=this.y<=0||this.colision(this.x,this.y-1)||this.colision(this.x+lt-1,this.y-1)||J.friendlyColision(this.index,"U"),s=this.y+lt>=Y||this.colision(this.x,this.y+lt+1)||this.colision(this.x+lt-1,this.y+lt+1)||J.friendlyColision(this.index,"D"),i&&this.removeDataFromArray("R",t),e&&this.removeDataFromArray("U",t),s&&this.removeDataFromArray("D",t),J.friendlyColision(this.index,"R")&&t.push("L"),t.length<=0&&t.push("L"),this.orientation=t[Math.floor(Math.random()*t.length)]},this.mainTouched=function(){var t=J.objList[this.index-1];switch(this.orientation){case"U":(t.p1[0]+X>=G.x+X&&t.p1[1]+X<=G.y+lt-X&&t.p1[0]+X<=G.x+lt-X&&t.p1[1]+X<=G.y+lt-X&&t.p1[0]+X>=G.x+X&&t.p1[1]+X>=G.y+X&&t.p1[0]+X<=G.x+lt-X&&t.p1[1]+X>=G.y+X||t.p3[0]-X>=G.x+X&&t.p3[1]+X<=G.y+lt-X&&t.p3[0]-X<=G.x+lt-X&&t.p3[1]+X<=G.y+lt-X&&t.p3[0]-X>=G.x+X&&t.p3[1]+X>=G.y+X&&t.p3[0]-X<=G.x+lt-X&&t.p3[1]+X>=G.y+X)&&(G.resetMain(),Mt(!1));break;case"R":(t.p3[0]-X>=G.x+X&&t.p3[1]+X>=G.y+X&&t.p3[0]-X>=G.x+X&&t.p3[1]+X<=G.y+lt-X&&t.p3[0]-X<=G.x+lt-X&&t.p3[1]+X>=G.y+X&&t.p3[0]-X<=G.x+lt-X&&t.p3[1]+X<=G.y+lt-X||t.p4[0]-X>=G.x+X&&t.p4[1]-X>=G.y+X&&t.p4[0]-X>=G.x+X&&t.p4[1]-X<=G.y+lt-X&&t.p4[0]-X<=G.x+lt-X&&t.p4[1]-X>=G.y+X&&t.p4[0]-X<=G.x+lt-X&&t.p4[1]-X<=G.y+lt-X)&&(G.resetMain(),Mt(!1));break;case"D":(t.p2[0]+X>=G.x+X&&t.p2[1]-X>=G.y+X&&t.p2[0]+X<=G.x+lt-X&&t.p2[1]-X>=G.y+X&&t.p2[0]+X>=G.x+X&&t.p2[1]-X<=G.y+lt-X&&t.p2[0]+X<=G.x+lt-X&&t.p2[1]-X<=G.y+lt-X||t.p4[0]-X>=G.x+X&&t.p4[1]-X>=G.y+X&&t.p4[0]-X<=G.x+lt-X&&t.p4[1]-X>=G.y+X&&t.p4[0]-X>=G.x+X&&t.p4[1]-X<=G.y+lt-X&&t.p4[0]-X<=G.x+lt-X&&t.p4[1]-X<=G.y+lt-X)&&(G.resetMain(),Mt(!1));break;case"L":(t.p1[0]+X<=G.x+lt-X&&t.p1[1]+X>=G.y+X&&t.p1[0]+X<=G.x+lt-X&&t.p1[1]+X<=G.y+lt-X&&t.p1[0]+X>=G.x+X&&t.p1[1]+X>=G.y+X&&t.p1[0]+X>=G.x+X&&t.p1[1]+X<=G.y+lt-X||t.p2[0]+X<=G.x+lt-X&&t.p2[1]-X>=G.y+X&&t.p2[0]+X<=G.x+lt-X&&t.p2[1]-X<=G.y+lt-X&&t.p2[0]+X>=G.x+X&&t.p2[1]-X>=G.y+X&&t.p2[0]+X>=G.x+X&&t.p2[1]-X<=G.y+lt-X)&&(G.resetMain(),Mt(!1));break;default:break}},this.move=function(){switch(this.orientation){case"U":this.up();break;case"R":this.right();break;case"D":this.down();break;case"L":this.left();break;default:break}J.updatePositions(this.index,this.x,this.y),this.mainTouched()},this.resetShoot=function(){if(0==this.count){switch(this.orientation){case"U":this.ownShoot=(new Bt).createForEnemie(this.x+Q,this.y-V,this.index,ct[Ot],this.orientation,Ft[this.idxImg].color);break;case"R":this.ownShoot=(new Bt).createForEnemie(this.x+lt,this.y+Q,this.index,ct[Ot],this.orientation,Ft[this.idxImg].color);break;case"D":this.ownShoot=(new Bt).createForEnemie(this.x+Q,this.y+lt,this.index,ct[Ot],this.orientation,Ft[this.idxImg].color);break;case"L":this.ownShoot=(new Bt).createForEnemie(this.x-V,this.y+Q,this.index,ct[Ot],this.orientation,Ft[this.idxImg].color);break;default:break}this.existingShoot=!0,this.count=yt}else this.count--},this.draw=function(){H.drawImage(Ft[this.idxImg].imgObj,this.x+X,this.y+X,lt-2*X,lt-2*X),this.existingShoot?(this.ownShoot.draw(),this.ownShoot.move(),this.ownShoot.crashed&&(this.ownShoot=null,this.existingShoot=!1)):this.resetShoot(),this.move()}},Pt=function(){this.x=0,this.y=lt*(ut-1),this.space=at[Ot],this.orientation,this.nextOrientation,this.posibleOrientation,this.isAchieveReorientation=!1,this.isKeepGoing=!1,this.ownShoot,this.existingShoot=!1,this.resetMain=function(){this.x=0,this.y=lt*(ut-1),this.space=4},this.createShoot=function(){if(this.orientation&&!this.existingShoot){switch(this.orientation){case"U":this.ownShoot=(new Bt).createForMain(this.x+Q,this.y-V,ct[Ot],this.orientation);break;case"R":this.ownShoot=(new Bt).createForMain(this.x+lt,this.y+Q,ct[Ot],this.orientation);break;case"D":this.ownShoot=(new Bt).createForMain(this.x+Q,this.y+lt,ct[Ot],this.orientation);break;case"L":this.ownShoot=(new Bt).createForMain(this.x-V,this.y+Q,ct[Ot],this.orientation);break;default:break}this.existingShoot=!0}},this.colision=function(t,i){var e=!1;return 1==Et[parseInt(i/lt)][parseInt(t/lt)]&&(e=!0),e},this.proceedToMove=function(t){switch(t){case"U":this.y-=this.space;break;case"D":this.y+=this.space;break;case"L":this.x-=this.space;break;case"R":this.x+=this.space;break;default:break}this.orientation=t},this.up=function(){this.y>0&&!this.colision(this.x,this.y-1)&&!this.colision(this.x+lt-1,this.y-1)&&this.proceedToMove("U")},this.down=function(){this.y+lt<Y&&!this.colision(this.x,this.y+lt+1)&&!this.colision(this.x+lt-1,this.y+lt+1)&&this.proceedToMove("D")},this.left=function(){this.x>0&&!this.colision(this.x-1,this.y)&&!this.colision(this.x-1,this.y+lt-1)&&this.proceedToMove("L")},this.right=function(){this.x+lt<Y&&!this.colision(this.x+lt,this.y)&&!this.colision(this.x+lt,this.y+lt-1)&&this.proceedToMove("R")},this.move=function(){var t;switch(t=this.posibleOrientation,t){case"U":this.up();break;case"R":this.right();break;case"D":this.down();break;case"L":this.left();break;default:break}},this.draw=function(){H.drawImage(_,this.x+X,this.y+X,lt-2*X,lt-2*X),this.existingShoot&&(this.ownShoot.draw(),this.ownShoot.move(),this.ownShoot.crashed&&(this.ownShoot=null,this.existingShoot=!1))}};function Ht(){for(var t=0;t<ut;t++)for(var i=0;i<ut;i++){var e=Et[t][i];H.fillStyle=0!=e?"#062D80":"#5E5897",H.fillRect(i*lt,t*lt,lt,lt)}}function _t(){for(var t=0,i=0;i<dt;i++){var e=2*i*lt;new Tt(e,0,t),t<Ft.length-1?t++:t=0}}function Wt(){G.up()}function Nt(){G.down()}function qt(){G.left()}function zt(){G.right()}function Gt(){G.createShoot()}function Jt(){gt||(mt=!0,n.change(!0)),gt&&jt==wt&&(ft=!0,gt=!1,clearInterval(z),z=null,Rt(),Kt())}function Kt(){ft&&(ft=!1,mt=!1,bt=!1,n.change(!1),Xt())}function Vt(){P.width=Y,P.height=Y}function Qt(){var t=!0;Z[68]&&zt(),Z[65]&&qt(),Z[83]&&Nt(),Z[87]&&Wt(),G.draw(),J.objList.forEach((function(i){i.itself.isDead||(i.itself.draw(),t=!1)})),t&&Mt(!0)}function Xt(){P=document.getElementById("canvas"),H=P.getContext("2d"),vt||(console.log("Width: "+document.getElementById("area").offsetWidth+" Height: "+(P.height-document.getElementById("area").getBoundingClientRect().y-50)),Dt=document.getElementById("area").offsetWidth<=P.height-document.getElementById("area").getBoundingClientRect().y-50?document.getElementById("area").offsetWidth:P.height-document.getElementById("area").getBoundingClientRect().y-50,Dt=10*parseInt(.95*Dt/10),vt=!0),Ct(),P.style.width=Y,P.style.height=Y,J=new Ut,K=new At,G=new Pt,Z={},mt=!1,n.change(!1),xt.simple_combo("enter",Jt),xt.simple_combo("space",Gt),document.addEventListener("keydown",(function(t){Z[t.which]=!0})),document.addEventListener("keyup",(function(t){delete Z[t.which]})),_t(),z=setInterval((function(){Vt(),Ht(),!ft&&mt?Qt():ft&&(clearInterval(z),bt?bt&&jt==wt?(Lt.value="Has terminado, muchas gracias por jugar, si quieres jugar de nuevo, presiona Enter.",gt=!0):Lt.value="Has ganado, pasarás al siguiente nivel.":(Lt.value="Has perdido con "+jt+" juegos ganados.",jt=0),kt.value<=wt&&Kt())}),1e3/ht)}function Yt(){clearInterval(z)}function Zt(){return{nivelActual:kt,msgNivel:Lt,maxLong:St}}var $t={props:{height:Number},setup:function(t){var i=t.height,e=Object(s["v"])(i);return Object(s["q"])((function(){Xt()})),Object(s["o"])((function(){return Yt()})),Object($["a"])({heightC:e},Zt())}};$t.render=T;var ti=$t,ii={name:"Home",components:{HelloWorld:j,Instructions:C,Game:ti},setup:function(){var t=Object(s["c"])((function(){return screen.availHeight}));return{heightScreen:t}}};ii.render=x;var ei=ii,si=[{path:"/",name:"Home",component:ei},{path:"/about",name:"About",component:function(){return e.e("about").then(e.bind(null,"f820"))}}],oi=Object(d["a"])({history:Object(d["b"])("/poliseo/"),routes:si}),ni=oi;Object(s["d"])(l).use(ni).mount("#app")},"78b8":function(t,i,e){},9245:function(t,i,e){t.exports=e.p+"img/blastoise.3f8caecd.png"},"987f":function(t,i,e){t.exports=e.p+"img/venasaur.195345af.png"},c407:function(t,i,e){t.exports=e.p+"img/pikachu.76f027c1.png"},caf7:function(t,i,e){t.exports=e.p+"img/charizard.c9f736f4.png"}});
//# sourceMappingURL=app.881d960a.js.map